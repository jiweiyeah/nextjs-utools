<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Next.js 安装指南</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
        Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue",
        sans-serif;
      line-height: 1.6;
      margin: 0 auto;
      max-width: 800px;
      padding: 2rem;
    }

    h1, h2, h3 {
      margin-top: 2rem;
    }

    h1 + h2 {
      margin-top: 1rem;
    }

    a {
      color: blue;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    code {
      background-color: #eee;
      border-radius: 3px;
      font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace;
      padding: 0.2rem 0.4rem;
    }

    pre {
      background-color: #eee;
      border-radius: 3px;
      padding: 1rem;
      overflow-x: auto;
    }

    .code-tabs {
      margin-top: 1rem;
      border: 1px solid #ddd;
      border-radius: 3px;
    }

    .code-tabs .tab-button {
      padding: 0.5rem 1rem;
      border: none;
      background-color: transparent;
      cursor: pointer;
    }

    .code-tabs .tab-button.active {
      border-bottom: 2px solid #0070f3;
    }

    .code-tabs .tab-content {
      padding: 1rem;
      display: none;
    }

    .code-tabs .tab-content.active {
      display: block;
    }

    .tip {
      background-color: #f0f0f0;
      border-left: 5px solid #0070f3;
      padding: 1rem;
      margin: 1rem 0;
    }
  </style>
</head>
<body>

  <h1>安装</h1>

  <h2>系统要求</h2>
  <ul>
    <li><a href="https://nodejs.org/">Node.js 18.18</a> 或更高版本</li>
    <li>支持 macOS、Windows（包括 WSL）和 Linux</li>
  </ul>

  <hr>

  <h2>自动安装</h2>
  <p>我们推荐使用 <a href="https://nextjs.org/docs/app/api-reference/create-next-app"><code>create-next-app</code></a> 来启动一个新的 Next.js 应用程序，它会为你自动设置一切。创建项目时，运行以下命令：</p>

  <pre><code>npx create-next-app@latest</code></pre>

  <p>安装过程中，你会看到以下提示：</p>

  <pre><code>
你的项目名称是什么？ my-app
是否使用 TypeScript？ 否 / 是
是否使用 ESLint？ 否 / 是
是否使用 Tailwind CSS？ 否 / 是
是否将代码放在 `src/` 目录中？ 否 / 是
是否使用 App Router？（推荐）否 / 是
是否为 `next dev` 使用 Turbopack？ 否 / 是
是否自定义导入别名（默认 `@/*`）？ 否 / 是
你希望配置什么导入别名？ @/*
  </code></pre>

  <p>在完成这些提示后，<a href="https://nextjs.org/docs/app/api-reference/create-next-app"><code>create-next-app</code></a> 将会创建一个以你的项目名称命名的文件夹，并安装所需的依赖。</p>

  <p>如果你是 Next.js 的新手，可以查看 <a href="https://nextjs.org/docs/getting-started/project-structure">项目结构</a> 文档，以了解应用程序中所有可能的文件和文件夹。</p>

  <div class="tip">
    <ul>
      <li>Next.js 现在默认带有 <a href="https://nextjs.org/docs/app/building-your-application/configuring/typescript">TypeScript</a>、<a href="https://nextjs.org/docs/app/building-your-application/configuring/eslint">ESLint</a> 和 <a href="https://nextjs.org/docs/app/building-your-application/styling/tailwind-css">Tailwind CSS</a> 配置。</li>
      <li>你可以选择在项目根目录下使用 <a href="https://nextjs.org/docs/app/building-your-application/configuring/src-directory"><code>src</code> 目录</a> 来将应用程序的代码与配置文件分开。</li>
    </ul>
  </div>

  <hr>

  <h2>手动安装</h2>
  <p>如果你想手动创建一个新的 Next.js 应用程序，可以安装所需的软件包：</p>

  <pre><code>npm install next@latest react@latest react-dom@latest</code></pre>

  <p>打开你的 <code>package.json</code> 文件，并添加以下 <code>scripts</code>:</p>

  <div class="code-tabs">
    <button class="tab-button active" data-target="tab1">package.json</button>
    <div class="tab-content active" id="tab1">
      <pre><code class="language-json">{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  }
}</code></pre>
    </div>
  </div>

  <p>这些脚本对应应用程序开发的不同阶段：</p>
  <ul>
    <li><code>dev</code>: 运行 <a href="https://nextjs.org/docs/app/api-reference/next-cli#development"><code>next dev</code></a> 以开发模式启动 Next.js。</li>
    <li><code>build</code>: 运行 <a href="https://nextjs.org/docs/app/api-reference/next-cli#build"><code>next build</code></a> 以构建生产环境的应用程序。</li>
    <li><code>start</code>: 运行 <a href="https://nextjs.org/docs/app/api-reference/next-cli#production"><code>next start</code></a> 以启动 Next.js 生产服务器。</li>
    <li><code>lint</code>: 运行 <a href="https://nextjs.org/docs/app/api-reference/next-cli#lint"><code>next lint</code></a> 以设置 Next.js 内置的 ESLint 配置。</li>
  </ul>

  <hr>

  <h3>创建目录</h3>
  <p>Next.js 使用文件系统路由，这意味着你的应用程序中的路由是由文件的结构决定的。</p>

  <h4><code>app</code> 目录</h4>
  <p>对于新的应用程序，我们推荐使用 <a href="https://nextjs.org/docs/app/building-your-application/routing/defining-routes">App Router</a>。这个路由器允许你使用 React 的最新功能，并且是基于社区反馈的 <a href="https://nextjs.org/docs/pages">Pages Router</a> 的进化版本。</p>
  <p>创建一个 <code>app/</code> 文件夹，然后添加 <code>layout.tsx</code> 和 <code>page.tsx</code> 文件。当用户访问你的应用程序根目录（<code>/</code>）时，将会渲染这些文件。</p>

  <img src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fapp-getting-started.png&w=1920&q=75" width="100%" height="100%" alt="app文件夹">

  <p>创建一个包含必要 <code><html></code> 和 <code><body></code> 标签的 <a href="https://nextjs.org/docs/app/building-your-application/routing/layouts-and-templates#root-layout-required">根布局</a> <code>app/layout.tsx</code>:</p>

  <div class="code-tabs" data-language="ts">
    <button class="tab-button active" data-target="tab2" data-language="ts">app/layout.tsx</button>
    <button class="tab-button" data-target="tab3" data-language="js">app/layout.js</button>
    <div class="tab-content active" id="tab2">
      <pre><code class="language-typescript">export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}</code></pre>
    </div>
    <div class="tab-content" id="tab3">
      <pre><code class="language-javascript">export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}</code></pre>
    </div>
  </div>

  <p>最后，创建一个带有初始内容的主页 <code>app/page.tsx</code>:</p>

  <div class="code-tabs">
    <button class="tab-button active" data-target="tab4">app/page.tsx</button>
    <button class="tab-button" data-target="tab5">app/page.js</button>
    <div class="tab-content active" id="tab4">
      <pre><code class="language-typescript">export default function Page() {
  return <h1>Hello, Next.js!</h1>
}</code></pre>
    </div>
    <div class="tab-content" id="tab5">
      <pre><code class="language-javascript">export default function Page() {
  return <h1>Hello, Next.js!</h1>
}</code></pre>
    </div>
  </div>

  <div class="tip">
    <p>如果你忘记创建 <code>layout.tsx</code>，当你运行开发服务器时，Next.js 将会自动创建此文件。</p>
  </div>

  <p>了解更多关于 <a href="https://nextjs.org/docs/app/building-your-application/routing/defining-routes">使用 App Router</a> 的信息。</p>

  <h4><code>pages</code> 目录（可选）</h4>
  <p>如果你更喜欢使用 Pages Router 而不是 App Router，你可以在项目的根目录下创建一个 <code>pages/</code> 目录。</p>

  <p>然后，在你的 <code>pages</code> 文件夹中添加一个 <code>index.tsx</code> 文件。这将是你的主页（<code>/</code>）：</p>

  <div class="code-tabs">
    <button class="tab-button active" data-target="tab6">pages/index.tsx</button>
    <button class="tab-button" data-target="tab7">pages/index.js</button>
    <div class="tab-content active" id="tab6">
      <pre><code class="language-typescript">export default function Page() {
  return <h1>Hello, Next.js!</h1>
}</code></pre>
    </div>
    <div class="tab-content" id="tab7">
      <pre><code class="language-javascript">export default function Page() {
  return <h1>Hello, Next.js!</h1>
}</code></pre>
    </div>
  </div>

  <p>接着，在 <code>pages/</code> 文件夹中添加一个 <code>_app.tsx</code> 文件来定义全局布局。了解更多关于 <a href="https://nextjs.org/docs/pages/building-your-application/routing/custom-app">自定义 App 文件</a> 的信息。</p>

  <div class="code-tabs">
    <button class="tab-button active" data-target="tab8">pages/_app.tsx</button>
    <button class="tab-button" data-target="tab9">pages/_app.js</button>
    <div class="tab-content active" id="tab8">
      <pre><code class="language-typescript">import type { AppProps } from 'next/app'
 
export default function App({ Component, pageProps }: AppProps) {
  return <Component {...pageProps} />
}</code></pre>
    </div>
    <div class="tab-content" id="tab9">
      <pre><code class="language-javascript">export default function App({ Component, pageProps }) {
  return <Component {...pageProps} />
}</code></pre>
    </div>
  </div>

  <p>最后，在 <code>pages/</code> 文件夹中添加一个 <code>_document.tsx</code> 文件来控制服务器的初始响应。了解更多关于 <a href="https://nextjs.org/docs/pages/building-your-application/routing/custom-document">自定义 Document 文件</a> 的信息。</p>

  <div class="code-tabs">
    <button class="tab-button active" data-target="tab10">pages/_document.tsx</button>
    <div class="tab-content active" id="tab10">
      <pre><code class="language-typescript">import { Html, Head, Main, NextScript } from 'next/document'
 
export default function Document() {
  return (
    <Html>
      <Head />
      <body>
        <Main />
        <NextScript />
      </body>
    </Html>
  )
}</code></pre>
    </div>
  </div>

  <p>了解更多关于 <a href="https://nextjs.org/docs/pages/building-your-application/routing/pages-and-layouts">使用 Pages Router</a> 的信息。</p>

  <blockquote>
    <p><strong>提示</strong>: 虽然你可以在同一个项目中使用这两种路由器，但 <code>app</code> 中的路由会优先于 <code>pages</code>。我们建议在新项目中只使用一种路由器，以避免混淆。</p>
  </blockquote>

  <h4><code>public</code> 文件夹（可选）</h4>
  <p>创建一个 <code>public</code> 文件夹，用于存储静态资源，如图片、字体等。<code>public</code> 目录中的文件可以从基 URL（<code>/</code>）开始引用。</p>

  <hr>

  <h3>运行开发服务器</h3>

  <ol>
    <li>运行 <code>npm run dev</code> 以启动开发服务器。</li>
    <li>访问 <code>http://localhost:3000</code> 以查看你的应用程序。</li>
    <li>编辑 <code>app/page.tsx</code>（或 <code>pages/index.tsx</code>）文件并保存，以便在浏览器中查看更新的结果。</li>
  </ol>

  <hr>

  <h2>下一步</h2>
  <p>了解你的 Next.js 项目中的文件和文件夹。</p>
</body>
<script>
  // 获取所有代码块容器
  const codeTabsContainers = document.querySelectorAll('.code-tabs');

  // 为每个容器添加事件监听器
  codeTabsContainers.forEach(container => {
    container.addEventListener('click', (event) => {
      const clickedButton = event.target.closest('.tab-button');
      if (clickedButton) {
        const targetTabId = clickedButton.dataset.target;
        const targetLanguage = clickedButton.dataset.language;

        // 更新按钮的激活状态
        container.querySelectorAll('.tab-button').forEach(button => button.classList.remove('active'));
        clickedButton.classList.add('active');

        // 更新代码块的显示内容
        container.querySelectorAll('.tab-content').forEach(content => {
          content.classList.toggle('active', content.id === targetTabId);

          // 更新代码块的语言标识
          const codeElement = content.querySelector('code');
          codeElement.classList.remove('language-ts', 'language-js');
          codeElement.classList.add(`language-${targetLanguage}`);
        });
      }
    });
  });
</script>
</html>